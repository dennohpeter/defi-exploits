// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "forge-std/Vm.sol";

address constant VM_ADDRESS =
    address(bytes20(uint160(uint256(keccak256("hevm cheat code")))));
Vm constant vm = Vm(VM_ADDRESS);

function dealERC20(
    address targetAddress,
    address tokenAddress,
    uint256 balancesSlotUint,
    uint256 value
) {
    bytes32 balancesSlot = bytes32(uint256(balancesSlotUint));
    require(vm.load(tokenAddress, balancesSlot) == bytes32(0), "Invalid Slot");
    bytes32 attackerTokenBalanceSlot = keccak256(
        bytes.concat(bytes32(uint256(uint160(targetAddress))), balancesSlot)
    );
    vm.store(tokenAddress, attackerTokenBalanceSlot, bytes32(value));
}
